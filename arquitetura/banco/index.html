<!DOCTYPE html>
<html class="no-js" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../uml/" rel="prev"/>
<link href="../../prototipo/prototipo/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.7.0" name="generator"/>
<title>Banco - ConcursoF√°cil Docs</title>
<link href="../../assets/stylesheets/main.618322db.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
<body data-md-color-accent="blue" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#estrutura-do-banco-de-dados-concursofacil">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="ConcursoF√°cil Docs" class="md-header__button md-logo" data-md-component="logo" href="../.." title="ConcursoF√°cil Docs">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            ConcursoF√°cil Docs
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Banco
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/ConcursoFacil/concursofacil-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    concursofacil-docs
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  P√°gina Inicial

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../produto/visao/">
        
  
  
    
  
  Vis√£o do Produto

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../requisitos/requisitos/">
          
  
  
  Requisitos

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../arquitetura/">
          
  
  
  Arquitetura

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../prototipo/prototipo/">
        
  
  
    
  
  Prot√≥tipo

      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="ConcursoF√°cil Docs" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="ConcursoF√°cil Docs">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    ConcursoF√°cil Docs
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/ConcursoFacil/concursofacil-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    concursofacil-docs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    
  
    P√°gina Inicial
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../produto/visao/">
<span class="md-ellipsis">
    
  
    Vis√£o do Produto
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Requisitos
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Requisitos
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../requisitos/requisitos/">
<span class="md-ellipsis">
    
  
    Requisitos de Software
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../requisitos/backlog/">
<span class="md-ellipsis">
    
  
    Backlog
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../requisitos/user_stories/">
<span class="md-ellipsis">
    
  
    Hist√≥rias de Usu√°rio
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-ellipsis">
    
  
    Arquitetura
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Arquitetura
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../arquitetura/">
<span class="md-ellipsis">
    
  
    Arquitetura
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../uml/">
<span class="md-ellipsis">
    
  
    UML
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Banco
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    
  
    Banco
  

    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#indice">
<span class="md-ellipsis">
      
        √çndice
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#visao-geral">
<span class="md-ellipsis">
      
        Vis√£o Geral
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#autenticacao-e-autorizacao">
<span class="md-ellipsis">
      
        Autentica√ß√£o e Autoriza√ß√£o
      
    </span>
</a>
<nav aria-label="Autentica√ß√£o e Autoriza√ß√£o" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-personal_access_tokens">
<span class="md-ellipsis">
      
        Tabela: personal_access_tokens
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gestao-de-usuarios">
<span class="md-ellipsis">
      
        Gest√£o de Usu√°rios
      
    </span>
</a>
<nav aria-label="Gest√£o de Usu√°rios" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-perfis">
<span class="md-ellipsis">
      
        Tabela: perfis
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-usuarios">
<span class="md-ellipsis">
      
        Tabela: usuarios
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-token_verificacao">
<span class="md-ellipsis">
      
        Tabela: token_verificacao
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sistema-de-questoes">
<span class="md-ellipsis">
      
        Sistema de Quest√µes
      
    </span>
</a>
<nav aria-label="Sistema de Quest√µes" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-disciplinas">
<span class="md-ellipsis">
      
        Tabela: disciplinas
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-questoes">
<span class="md-ellipsis">
      
        Tabela: questoes
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-questao_alternativas">
<span class="md-ellipsis">
      
        Tabela: questao_alternativas
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resolucao-e-performance">
<span class="md-ellipsis">
      
        Resolu√ß√£o e Performance
      
    </span>
</a>
<nav aria-label="Resolu√ß√£o e Performance" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-resolucoes_questoes">
<span class="md-ellipsis">
      
        Tabela: resolucoes_questoes
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-resolucoes_questoes_alternativas">
<span class="md-ellipsis">
      
        Tabela: resolucoes_questoes_alternativas
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relacionamentos">
<span class="md-ellipsis">
      
        Relacionamentos
      
    </span>
</a>
<nav aria-label="Relacionamentos" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#resumo-dos-relacionamentos">
<span class="md-ellipsis">
      
        Resumo dos Relacionamentos
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#estatisticas-e-metricas">
<span class="md-ellipsis">
      
        Estat√≠sticas e M√©tricas
      
    </span>
</a>
<nav aria-label="Estat√≠sticas e M√©tricas" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#consultas-uteis-para-relatorios">
<span class="md-ellipsis">
      
        Consultas √öteis para Relat√≥rios
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manutencao-e-otimizacao">
<span class="md-ellipsis">
      
        Manuten√ß√£o e Otimiza√ß√£o
      
    </span>
</a>
<nav aria-label="Manuten√ß√£o e Otimiza√ß√£o" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#indices-recomendados">
<span class="md-ellipsis">
      
        √çndices Recomendados
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-e-restore">
<span class="md-ellipsis">
      
        Backup e Restore
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notas-tecnicas">
<span class="md-ellipsis">
      
        Notas T√©cnicas
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#historico-de-versao">
<span class="md-ellipsis">
      
        Hist√≥rico de Vers√£o
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../prototipo/prototipo/">
<span class="md-ellipsis">
    
  
    Prot√≥tipo
  

    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#indice">
<span class="md-ellipsis">
      
        √çndice
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#visao-geral">
<span class="md-ellipsis">
      
        Vis√£o Geral
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#autenticacao-e-autorizacao">
<span class="md-ellipsis">
      
        Autentica√ß√£o e Autoriza√ß√£o
      
    </span>
</a>
<nav aria-label="Autentica√ß√£o e Autoriza√ß√£o" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-personal_access_tokens">
<span class="md-ellipsis">
      
        Tabela: personal_access_tokens
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gestao-de-usuarios">
<span class="md-ellipsis">
      
        Gest√£o de Usu√°rios
      
    </span>
</a>
<nav aria-label="Gest√£o de Usu√°rios" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-perfis">
<span class="md-ellipsis">
      
        Tabela: perfis
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-usuarios">
<span class="md-ellipsis">
      
        Tabela: usuarios
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-token_verificacao">
<span class="md-ellipsis">
      
        Tabela: token_verificacao
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sistema-de-questoes">
<span class="md-ellipsis">
      
        Sistema de Quest√µes
      
    </span>
</a>
<nav aria-label="Sistema de Quest√µes" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-disciplinas">
<span class="md-ellipsis">
      
        Tabela: disciplinas
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-questoes">
<span class="md-ellipsis">
      
        Tabela: questoes
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-questao_alternativas">
<span class="md-ellipsis">
      
        Tabela: questao_alternativas
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resolucao-e-performance">
<span class="md-ellipsis">
      
        Resolu√ß√£o e Performance
      
    </span>
</a>
<nav aria-label="Resolu√ß√£o e Performance" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-resolucoes_questoes">
<span class="md-ellipsis">
      
        Tabela: resolucoes_questoes
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tabela-resolucoes_questoes_alternativas">
<span class="md-ellipsis">
      
        Tabela: resolucoes_questoes_alternativas
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relacionamentos">
<span class="md-ellipsis">
      
        Relacionamentos
      
    </span>
</a>
<nav aria-label="Relacionamentos" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#resumo-dos-relacionamentos">
<span class="md-ellipsis">
      
        Resumo dos Relacionamentos
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#estatisticas-e-metricas">
<span class="md-ellipsis">
      
        Estat√≠sticas e M√©tricas
      
    </span>
</a>
<nav aria-label="Estat√≠sticas e M√©tricas" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#consultas-uteis-para-relatorios">
<span class="md-ellipsis">
      
        Consultas √öteis para Relat√≥rios
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manutencao-e-otimizacao">
<span class="md-ellipsis">
      
        Manuten√ß√£o e Otimiza√ß√£o
      
    </span>
</a>
<nav aria-label="Manuten√ß√£o e Otimiza√ß√£o" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#indices-recomendados">
<span class="md-ellipsis">
      
        √çndices Recomendados
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#backup-e-restore">
<span class="md-ellipsis">
      
        Backup e Restore
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#notas-tecnicas">
<span class="md-ellipsis">
      
        Notas T√©cnicas
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#historico-de-versao">
<span class="md-ellipsis">
      
        Hist√≥rico de Vers√£o
      
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="estrutura-do-banco-de-dados-concursofacil">üóÑÔ∏è Estrutura do Banco de Dados - ConcursoF√°cil</h1>
<p><a href="https://mysql.com/"><img alt="MySQL" src="https://img.shields.io/badge/MySQL-8.0-4479A1?logo=mysql&amp;logoColor=white"/></a>
<a href="https://laravel.com/"><img alt="Laravel" src="https://img.shields.io/badge/Laravel-10.x-FF2D20?logo=laravel&amp;logoColor=white"/></a></p>
<blockquote>
<p>** Descri√ß√£o:** Documenta√ß√£o completa da estrutura do banco de dados do sistema ConcursoF√°cil, incluindo DDL (Data Definition Language) e relacionamentos entre tabelas.</p>
</blockquote>
<hr/>
<h2 id="indice">√çndice</h2>
<ul>
<li><a href="#-vis√£o-geral"> Vis√£o Geral</a></li>
<li><a href="#-autentica√ß√£o-e-autoriza√ß√£o"> Autentica√ß√£o e Autoriza√ß√£o</a></li>
<li><a href="#-gest√£o-de-usu√°rios"> Gest√£o de Usu√°rios</a></li>
<li><a href="#-sistema-de-quest√µes"> Sistema de Quest√µes</a></li>
<li><a href="#-resolu√ß√£o-e-performance"> Resolu√ß√£o e Performance</a></li>
<li><a href="#-relacionamentos"> Relacionamentos</a></li>
</ul>
<hr/>
<h2 id="visao-geral">Vis√£o Geral</h2>
<p>O banco de dados <code>concursofacil</code> foi projetado para suportar um sistema completo de quest√µes para concursos p√∫blicos, incluindo:</p>
<ul>
<li>‚úÖ <strong>Autentica√ß√£o</strong> via tokens pessoais</li>
<li>‚úÖ <strong>Gest√£o de usu√°rios</strong> com perfis e permiss√µes</li>
<li>‚úÖ <strong>Cataloga√ß√£o</strong> de quest√µes por disciplina</li>
<li>‚úÖ <strong>Resolu√ß√£o</strong> e an√°lise de performance</li>
<li>‚úÖ <strong>Auditoria</strong> completa com timestamps</li>
</ul>
<hr/>
<h2 id="autenticacao-e-autorizacao">Autentica√ß√£o e Autoriza√ß√£o</h2>
<h3 id="tabela-personal_access_tokens"><strong>Tabela: <code>personal_access_tokens</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Gerenciamento de tokens de acesso pessoal para autentica√ß√£o API</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE personal_access_tokens (
  id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  tokenable_type VARCHAR(255) NOT NULL,
  tokenable_id BIGINT UNSIGNED NOT NULL,
  name TEXT NOT NULL,
  token VARCHAR(64) UNIQUE NOT NULL,
  abilities TEXT NULL,
  last_used_at TIMESTAMP NULL,
  expires_at TIMESTAMP NULL,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL,
  INDEX (expires_at)
);
</code></pre>
<table>
<thead>
<tr>
<th>Campo</th>
<th>Tipo</th>
<th>Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>BIGINT UNSIGNED</td>
<td>Chave prim√°ria</td>
</tr>
<tr>
<td><code>tokenable_type</code></td>
<td>VARCHAR(255)</td>
<td>Tipo de entidade (User, etc.)</td>
</tr>
<tr>
<td><code>tokenable_id</code></td>
<td>BIGINT UNSIGNED</td>
<td>ID da entidade</td>
</tr>
<tr>
<td><code>token</code></td>
<td>VARCHAR(64)</td>
<td>Hash √∫nico do token</td>
</tr>
<tr>
<td><code>abilities</code></td>
<td>TEXT</td>
<td>Permiss√µes do token (JSON)</td>
</tr>
<tr>
<td><code>expires_at</code></td>
<td>TIMESTAMP</td>
<td>Data de expira√ß√£o</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="gestao-de-usuarios">Gest√£o de Usu√°rios</h2>
<h3 id="tabela-perfis"><strong>Tabela: <code>perfis</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Defini√ß√£o de tipos de usu√°rio e permiss√µes no sistema</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE perfis (
  id_perfil BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  nome_perfil VARCHAR(30) NOT NULL,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL
);
</code></pre>
<table>
<thead>
<tr>
<th>Campo</th>
<th>Tipo</th>
<th>Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id_perfil</code></td>
<td>BIGINT UNSIGNED</td>
<td>Chave prim√°ria</td>
</tr>
<tr>
<td><code>nome_perfil</code></td>
<td>VARCHAR(30)</td>
<td>Nome do perfil (Admin, Student, etc.)</td>
</tr>
</tbody>
</table>
<hr/>
<h3 id="tabela-usuarios"><strong>Tabela: <code>usuarios</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Informa√ß√µes completas dos usu√°rios do sistema</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE usuarios (
  id_usuario BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  id_perfil BIGINT UNSIGNED NULL,
  primeiro_nome VARCHAR(50) NOT NULL,
  ultimo_nome VARCHAR(50) NOT NULL,
  username VARCHAR(50) UNIQUE NOT NULL,
  email VARCHAR(120) UNIQUE NOT NULL,
  senha_hash VARCHAR(255) NOT NULL,
  foto_url VARCHAR(255) NULL,
  cargo VARCHAR(80) NULL,
  educacao VARCHAR(150) NULL,
  habilidades VARCHAR(200) NULL,
  notas TEXT NULL,
  ativo BOOLEAN DEFAULT TRUE,
  ultimo_login DATETIME NULL,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL,
  FOREIGN KEY (id_perfil) REFERENCES perfis(id_perfil) ON DELETE SET NULL
);
</code></pre>
<details>
<summary><strong>üìä Campos da Tabela Usuarios</strong></summary>

| Campo           | Tipo            | Restri√ß√µes       | Descri√ß√£o             |
| --------------- | --------------- | ---------------- | --------------------- |
| `id_usuario`    | BIGINT UNSIGNED | PRIMARY KEY      | Identificador √∫nico   |
| `id_perfil`     | BIGINT UNSIGNED | FK, NULL         | Refer√™ncia ao perfil  |
| `primeiro_nome` | VARCHAR(50)     | NOT NULL         | Nome do usu√°rio       |
| `ultimo_nome`   | VARCHAR(50)     | NOT NULL         | Sobrenome do usu√°rio  |
| `username`      | VARCHAR(50)     | UNIQUE, NOT NULL | Nome de usu√°rio       |
| `email`         | VARCHAR(120)    | UNIQUE, NOT NULL | Email √∫nico           |
| `senha_hash`    | VARCHAR(255)    | NOT NULL         | Senha criptografada   |
| `foto_url`      | VARCHAR(255)    | NULL             | URL da foto de perfil |
| `cargo`         | VARCHAR(80)     | NULL             | Cargo profissional    |
| `educacao`      | VARCHAR(150)    | NULL             | Forma√ß√£o acad√™mica    |
| `habilidades`   | VARCHAR(200)    | NULL             | Skills do usu√°rio     |
| `notas`         | TEXT            | NULL             | Anota√ß√µes pessoais    |
| `ativo`         | BOOLEAN         | DEFAULT TRUE     | Status da conta       |
| `ultimo_login`  | DATETIME        | NULL             | √öltimo acesso         |

</details>
<hr/>
<h3 id="tabela-token_verificacao"><strong>Tabela: <code>token_verificacao</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Tokens para verifica√ß√£o de conta e recupera√ß√£o de senha</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE token_verificacao (
  id_token BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  id_usuario BIGINT UNSIGNED NOT NULL,
  tipo ENUM('verificacao_conta','recuperacao_senha') NOT NULL,
  codigo CHAR(6) NOT NULL,
  expira_em DATETIME NOT NULL,
  usado BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario) ON DELETE CASCADE
);
</code></pre>
<table>
<thead>
<tr>
<th>Campo</th>
<th>Tipo</th>
<th>Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tipo</code></td>
<td>ENUM</td>
<td><code>verificacao_conta</code> ou <code>recuperacao_senha</code></td>
</tr>
<tr>
<td><code>codigo</code></td>
<td>CHAR(6)</td>
<td>C√≥digo de 6 d√≠gitos</td>
</tr>
<tr>
<td><code>expira_em</code></td>
<td>DATETIME</td>
<td>Data/hora de expira√ß√£o</td>
</tr>
<tr>
<td><code>usado</code></td>
<td>BOOLEAN</td>
<td>Status de utiliza√ß√£o</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="sistema-de-questoes">Sistema de Quest√µes</h2>
<h3 id="tabela-disciplinas"><strong>Tabela: <code>disciplinas</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Categoriza√ß√£o das quest√µes por √°rea de conhecimento</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE disciplinas (
  id_disciplina BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  nome VARCHAR(100) UNIQUE NOT NULL
);
</code></pre>
<table>
<thead>
<tr>
<th>Campo</th>
<th>Tipo</th>
<th>Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id_disciplina</code></td>
<td>BIGINT UNSIGNED</td>
<td>Chave prim√°ria</td>
</tr>
<tr>
<td><code>nome</code></td>
<td>VARCHAR(100)</td>
<td>Nome da disciplina (√∫nico)</td>
</tr>
</tbody>
</table>
<p><strong>Exemplos:</strong> <em>Portugu√™s, Matem√°tica, Direito Constitucional, Inform√°tica</em></p>
<hr/>
<h3 id="tabela-questoes"><strong>Tabela: <code>questoes</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Armazenamento completo das quest√µes de concursos</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE questoes (
  id_questao BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  codigo_questao VARCHAR(255) NULL,
  enunciado TEXT NOT NULL,
  tipo_questao ENUM('multipla_escolha','certo_errado') NOT NULL,
  resposta_correta CHAR(1) NOT NULL,
  gabarito_comentado TEXT NULL,
  id_disciplina BIGINT UNSIGNED NOT NULL,
  assunto VARCHAR(120) NULL,
  banca VARCHAR(100) NULL,
  instituicao VARCHAR(100) NULL,
  ano YEAR NULL,
  prova VARCHAR(100) NULL,
  dificuldade ENUM('muito_facil','facil','medio','dificil','muito_dificil') NOT NULL,
  nivel ENUM('fundamental','medio','superior') NULL,
  cargo VARCHAR(100) NULL,
  area_formacao VARCHAR(100) NULL,
  area_atuacao VARCHAR(100) NULL,
  criado_por INT NULL,
  atualizado_por INT NULL,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL,
  FOREIGN KEY (id_disciplina) REFERENCES disciplinas(id_disciplina)
);
</code></pre>
<details>
<summary><strong>üè∑Ô∏è Categoriza√ß√£o e Metadados</strong></summary>

| Campo          | Tipo         | Valores                                                     | Descri√ß√£o                |
| -------------- | ------------ | ----------------------------------------------------------- | ------------------------ |
| `tipo_questao` | ENUM         | `multipla_escolha`, `certo_errado`                          | Formato da quest√£o       |
| `dificuldade`  | ENUM         | `muito_facil`, `facil`, `medio`, `dificil`, `muito_dificil` | N√≠vel de dificuldade     |
| `nivel`        | ENUM         | `fundamental`, `medio`, `superior`                          | N√≠vel de escolaridade    |
| `banca`        | VARCHAR(100) | -                                                           | Organizadora do concurso |
| `instituicao`  | VARCHAR(100) | -                                                           | √ìrg√£o p√∫blico            |
| `ano`          | YEAR         | -                                                           | Ano da prova             |
| `cargo`        | VARCHAR(100) | -                                                           | Cargo do concurso        |

</details>
<hr/>
<h3 id="tabela-questao_alternativas"><strong>Tabela: <code>questao_alternativas</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Alternativas para quest√µes de m√∫ltipla escolha</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE questao_alternativas (
  id_alternativa BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  id_questao BIGINT UNSIGNED NOT NULL,
  alternativa_a VARCHAR(255) NULL,
  alternativa_b VARCHAR(255) NULL,
  alternativa_c VARCHAR(255) NULL,
  alternativa_d VARCHAR(255) NULL,
  alternativa_e VARCHAR(255) NULL,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL,
  FOREIGN KEY (id_questao) REFERENCES questoes(id_questao) ON DELETE CASCADE
);
</code></pre>
<blockquote>
<p>** Nota:** As alternativas s√£o armazenadas em colunas separadas (A, B, C, D, E) para facilitar consultas e ordena√ß√£o.</p>
</blockquote>
<hr/>
<h2 id="resolucao-e-performance">Resolu√ß√£o e Performance</h2>
<h3 id="tabela-resolucoes_questoes"><strong>Tabela: <code>resolucoes_questoes</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Hist√≥rico completo das resolu√ß√µes dos usu√°rios com snapshot dos dados da quest√£o</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE resolucoes_questoes (
  id_resolucao BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  id_usuario BIGINT UNSIGNED NOT NULL,
  id_questao_original BIGINT UNSIGNED NOT NULL,
  codigo_questao VARCHAR(255) NULL,
  enunciado TEXT NOT NULL,
  tipo_questao ENUM('multipla_escolha','certo_errado') NOT NULL,
  resposta_correta CHAR(1) NOT NULL,
  gabarito_comentado TEXT NULL,
  disciplina VARCHAR(100) NULL,
  assunto VARCHAR(120) NULL,
  banca VARCHAR(100) NULL,
  instituicao VARCHAR(100) NULL,
  ano YEAR NULL,
  prova VARCHAR(100) NULL,
  dificuldade ENUM('muito_facil','facil','medio','dificil','muito_dificil') NOT NULL,
  nivel ENUM('fundamental','medio','superior') NULL,
  cargo VARCHAR(100) NULL,
  area_formacao VARCHAR(100) NULL,
  area_atuacao VARCHAR(100) NULL,
  criado_por INT NULL,
  atualizado_por INT NULL,
  alternativa_marcada CHAR(1) NOT NULL,
  acertou BOOLEAN NOT NULL,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario) ON DELETE CASCADE,
  FOREIGN KEY (id_questao_original) REFERENCES questoes(id_questao) ON DELETE CASCADE
);
</code></pre>
<details>
<summary><strong>üìà Campos de Performance</strong></summary>

| Campo                 | Tipo            | Descri√ß√£o                       |
| --------------------- | --------------- | ------------------------------- |
| `id_questao_original` | BIGINT UNSIGNED | Refer√™ncia √† quest√£o original   |
| `alternativa_marcada` | CHAR(1)         | Resposta escolhida pelo usu√°rio |
| `acertou`             | BOOLEAN         | Se a resposta estava correta    |
| `created_at`          | TIMESTAMP       | Data/hora da resolu√ß√£o          |

&gt; ** Design Pattern:** Esta tabela mant√©m um **snapshot** completo dos dados da quest√£o no momento da resolu√ß√£o, garantindo integridade hist√≥rica mesmo se a quest√£o original for modificada.

</details>
<hr/>
<h3 id="tabela-resolucoes_questoes_alternativas"><strong>Tabela: <code>resolucoes_questoes_alternativas</code></strong></h3>
<blockquote>
<p><strong>Fun√ß√£o:</strong> Snapshot das alternativas no momento da resolu√ß√£o</p>
</blockquote>
<pre><code class="language-sql">CREATE TABLE resolucoes_questoes_alternativas (
  id_alternativa BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  id_resolucao BIGINT UNSIGNED NOT NULL,
  alternativa_a VARCHAR(255) NULL,
  alternativa_b VARCHAR(255) NULL,
  alternativa_c VARCHAR(255) NULL,
  alternativa_d VARCHAR(255) NULL,
  alternativa_e VARCHAR(255) NULL,
  created_at TIMESTAMP NULL,
  updated_at TIMESTAMP NULL,
  FOREIGN KEY (id_resolucao) REFERENCES resolucoes_questoes(id_resolucao) ON DELETE CASCADE
);
</code></pre>
<hr/>
<h2 id="relacionamentos">Relacionamentos</h2>
<div class="mermaid">erDiagram
    perfis ||--o{ usuarios : "tem"
    usuarios ||--o{ token_verificacao : "possui"
    usuarios ||--o{ personal_access_tokens : "gera"
    disciplinas ||--o{ questoes : "categoriza"
    questoes ||--|| questao_alternativas : "possui"
    usuarios ||--o{ resolucoes_questoes : "resolve"
    questoes ||--o{ resolucoes_questoes : "√©_resolvida"
    resolucoes_questoes ||--|| resolucoes_questoes_alternativas : "snapshot"
</div>
<h3 id="resumo-dos-relacionamentos"><strong>Resumo dos Relacionamentos</strong></h3>
<table>
<thead>
<tr>
<th>Tabela Pai</th>
<th>Tabela Filha</th>
<th>Tipo</th>
<th>Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>perfis</code></td>
<td><code>usuarios</code></td>
<td>1:N</td>
<td>Um perfil pode ter muitos usu√°rios</td>
</tr>
<tr>
<td><code>usuarios</code></td>
<td><code>token_verificacao</code></td>
<td>1:N</td>
<td>Um usu√°rio pode ter m√∫ltiplos tokens</td>
</tr>
<tr>
<td><code>disciplinas</code></td>
<td><code>questoes</code></td>
<td>1:N</td>
<td>Uma disciplina cont√©m muitas quest√µes</td>
</tr>
<tr>
<td><code>questoes</code></td>
<td><code>questao_alternativas</code></td>
<td>1:1</td>
<td>Cada quest√£o tem suas alternativas</td>
</tr>
<tr>
<td><code>usuarios</code> √ó <code>questoes</code></td>
<td><code>resolucoes_questoes</code></td>
<td>N:M</td>
<td>Muitos usu√°rios resolvem muitas quest√µes</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="estatisticas-e-metricas"><strong>Estat√≠sticas e M√©tricas</strong></h2>
<h3 id="consultas-uteis-para-relatorios">Consultas √öteis para Relat√≥rios</h3>
<pre><code class="language-sql">-- Performance por usu√°rio
SELECT
    u.primeiro_nome,
    u.ultimo_nome,
    COUNT(r.id_resolucao) as total_questoes,
    SUM(CASE WHEN r.acertou = 1 THEN 1 ELSE 0 END) as acertos,
    ROUND(AVG(CASE WHEN r.acertou = 1 THEN 1.0 ELSE 0.0 END) * 100, 2) as percentual_acerto
FROM usuarios u
LEFT JOIN resolucoes_questoes r ON u.id_usuario = r.id_usuario
GROUP BY u.id_usuario;

-- Quest√µes mais dif√≠ceis
SELECT
    q.codigo_questao,
    q.enunciado,
    COUNT(r.id_resolucao) as total_tentativas,
    SUM(CASE WHEN r.acertou = 1 THEN 1 ELSE 0 END) as acertos,
    ROUND(AVG(CASE WHEN r.acertou = 1 THEN 1.0 ELSE 0.0 END) * 100, 2) as taxa_acerto
FROM questoes q
LEFT JOIN resolucoes_questoes r ON q.id_questao = r.id_questao_original
GROUP BY q.id_questao
HAVING total_tentativas &gt; 10
ORDER BY taxa_acerto ASC;
</code></pre>
<hr/>
<h2 id="manutencao-e-otimizacao"><strong>Manuten√ß√£o e Otimiza√ß√£o</strong></h2>
<h3 id="indices-recomendados">√çndices Recomendados</h3>
<pre><code class="language-sql">-- √çndices para performance de consultas
CREATE INDEX idx_usuarios_email ON usuarios(email);
CREATE INDEX idx_usuarios_username ON usuarios(username);
CREATE INDEX idx_questoes_disciplina ON questoes(id_disciplina);
CREATE INDEX idx_questoes_dificuldade ON questoes(dificuldade);
CREATE INDEX idx_resolucoes_usuario ON resolucoes_questoes(id_usuario);
CREATE INDEX idx_resolucoes_data ON resolucoes_questoes(created_at);
CREATE INDEX idx_tokens_expiracao ON personal_access_tokens(expires_at);
</code></pre>
<h3 id="backup-e-restore"><strong>Backup e Restore</strong></h3>
<pre><code class="language-sql">-- Backup completo
mysqldump -u usuario -p concursofacil &gt; backup_concursofacil.sql

-- Restaurar backup
mysql -u usuario -p concursofacil &lt; backup_concursofacil.sql
</code></pre>
<hr/>
<h2 id="notas-tecnicas"><strong>Notas T√©cnicas</strong></h2>
<ul>
<li><strong>Charset:</strong> UTF8MB4 (suporte a emojis e caracteres especiais)</li>
<li><strong>Engine:</strong> InnoDB (suporte a transa√ß√µes e foreign keys)</li>
<li><strong>Versionamento:</strong> Migrations do Laravel para controle de vers√£o</li>
<li><strong>Auditoria:</strong> Campos <code>created_at</code> e <code>updated_at</code> em todas as tabelas</li>
<li><strong>Soft Deletes:</strong> Implementado atrav√©s do campo <code>ativo</code> na tabela usu√°rios</li>
</ul>
<p><strong>Esta estrutura suporta um sistema completo de quest√µes para concursos com rastreamento de performance e auditoria completa!</strong></p>
<h2 id="historico-de-versao">Hist√≥rico de Vers√£o</h2>
<table>
<thead>
<tr>
<th style="text-align: center;"><strong>Data</strong></th>
<th style="text-align: center;"><strong>Vers√£o</strong></th>
<th style="text-align: center;"><strong>Descri√ß√£o</strong></th>
<th style="text-align: center;"><strong>Autor</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">03/11/2025</td>
<td style="text-align: center;">1.0</td>
<td style="text-align: center;">Cria√ß√£o do Documento</td>
<td style="text-align: center;">Breno Fernandes</td>
</tr>
</tbody>
</table>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script><script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body></html>